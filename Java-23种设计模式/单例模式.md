## Java23种设计模式之一:单例模式(Singleton)

- #### 私有化构造器(防止外界通过new来实例化对象)

- #### 提供一个静态方法用于将当前类实例返回给外界

- #### 提供一个静态的私有的当前类型实例的属性并初始化(确保只有一个实例)

#### 代码如下:

```java
package com.webserver.test;
/**
 *  ★单例模式(java23种设计模式之一)
 *  1:私有化构造器(防止外界通过new来实例化对象)
 *  2:提供一个静态方法用于将当前类实例返回给外界
 *  3:提供一个静态的私有的当前类型实例的属性并初始化(确保只有一个实例)
 */
public class Singleton {
    //私有化并静态的创建一个对象(确保唯一性)
    //使得该引用Singleton在调用getInstance()方法后只返回一种对象
    private static Singleton instance = new Singleton();

    private Singleton(){}//私有化构造器
    //getInstance()该静态方法负责返回一个对象(正常情况调多少返回多少不同对象,但是若为单例模式,只能有一个对象)
    public static Singleton getInstance(){
        return instance;
    }
}
```

#### 测试:

```java
package com.webserver.test;
/**
 * ★单例模式
 * java23种设计模式之一
 *
 * 因Singleton类采用了单例模式
 * 故使用该模式定义的类全局仅可创建一个实例(对象引用相同)
 */
public class SingletonDemo {
    public static void main(String[] args) {
        //未重写toString()方法,输出对象
        Singleton s1 = Singleton.getInstance();
        System.out.println(s1);//com.webserver.test.Singleton@74a14482
        Singleton s2 = Singleton.getInstance();
        System.out.println(s2);//com.webserver.test.Singleton@74a14482
    }
}
```

### 单例对象（Singleton）是一种常用的设计模式。

#### 在Java应用中，单例对象能保证在一个JVM中，该对象只有一个实例存在。这样的模式有几个好处：

##### 1、某些类创建比较频繁，对于一些大型的对象，这是一笔很大的系统开销。

##### 2、省去了new操作符，降低了系统内存的使用频率，减轻GC压力。

##### 3、有些类如交易所的核心交易引擎，控制着交易流程，如果该类可以创建多个的话，系统完全乱了。（比如一个军队出现了多个司令员同时指挥，肯定会乱成一团），所以只有使用单例模式，才能保证核心交易服务器独立控制整个流程。
