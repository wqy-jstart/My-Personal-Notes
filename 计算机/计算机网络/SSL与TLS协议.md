# SSL/TLS协议

**<u>SSL/TLS协议位于网络OSI七层模型的会话层，用来加密通信。</u>**

## 1.SSL

**SSL（Secure Sockets Layer）安全套接字层**

是一种标准安全协议，用于在在线通信中建立Web服务器和浏览器之间的加密链接。

SSL通过互相认证、使用数字签名确保完整性、使用加密确保私密性，以实现客户端和服务器之间的安全通讯。

## 2.TLS

**TLS（Transport Layer Security）传输层安全**

是 IETF 在 SSL 3.0 的基础上[设计](https://www.isolves.com/it/rj/ps/)的协议，它是 SSL 协议的升级版。两者差别极小，可以理解为 TLS 是 SSL 3.1。

### TLS协议结构

TLS协议分为两层：

1. TLS记录协议（TLS record protocol）
2. TLS握手协议（TLS handshake protocol）

TLS握手协议负责加密以外的其他事情。握手协议分成4个子协议，分别是：

1. **握手协议**：负责通信双方之间协商决定密码算法和共享密钥
2. **密码规格变更协议**：负责向通信对象传达变更密码方式的信号
3. **警告协议**：负责在发生错误时将错误传给对方
4. **应用数据协议**：是将TLS承载的应用数据传达给通讯对象

TLS记录协议负责消息的压缩、加密以及数据的认证。TLS记录协议使用到的所有算法都是经过握手协议协商确认后的，以保证通讯双方是使用相同的算法。处理过程：

- 首先，消息会被分割成多分，并用协商好的压缩算法进行压缩
- 其次，压缩片段会加上消息认证码以保证完整性，为了防止重放攻击还加上了片段编号
- 再次，压缩后的消息片段会加上消息认证码一起进行加密，加密使用CBC模式，初始向量是通过主密码生成
- 最后，加密后的报文，再加上数据类型、版本号、压缩后的长度组成的报头，就是最终的数据报文。

更多：https://www.isolves.com/it/wl/zs/2020-02-17/12000.html